---

title: PynamoLogger


keywords: fastai
sidebar: home_sidebar

summary: "log information into a dynamodb, with dax support"
description: "log information into a dynamodb, with dax support"
nb_path: "index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>pip install pynamologger</code><br></p>
<h1 id="view-Documentation">view <a href="https://thanakijwanavit.github.io/pynamoLogger/">Documentation</a><a class="anchor-link" href="#view-Documentation"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Usage">Usage<a class="anchor-link" href="#Usage"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="create-a-dynamodb-table">create a dynamodb table<a class="anchor-link" href="#create-a-dynamodb-table"> </a></h2><h4 id="indexKey">indexKey<a class="anchor-link" href="#indexKey"> </a></h4><ul>
<li>appName</li>
</ul>
<h4 id="rangeKey">rangeKey<a class="anchor-link" href="#rangeKey"> </a></h4><ul>
<li>timestamp</li>
</ul>
<h3 id="Sam-template">Sam template<a class="anchor-link" href="#Sam-template"> </a></h3><p>put this in your template.yaml file under properties section<br>
make sure that the table name is the same in Meta declaration</p>
<div class="highlight"><pre><span></span><span class="nt">YourLogTable</span><span class="p">:</span>
  <span class="nt">Type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AWS::DynamoDB::Table</span>
  <span class="nt">Properties</span><span class="p">:</span>
    <span class="nt">AttributeDefinitions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">AttributeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">appName</span>
        <span class="nt">AttributeType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">S</span>
      <span class="p p-Indicator">-</span> <span class="nt">AttributeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">timestamp</span>
        <span class="nt">AttributeType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">N</span>
    <span class="nt">BillingMode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PAY_PER_REQUEST</span>
    <span class="nt">TableName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;put your table name here&gt;</span>
    <span class="nt">KeySchema</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">AttributeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">appName</span>
        <span class="nt">KeyType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HASH</span>
      <span class="p p-Indicator">-</span> <span class="nt">AttributeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">timestamp</span>
        <span class="nt">KeyType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RANGE</span>
</pre></div>
<h3 id="create-using-pynamodb-api">create using pynamodb api<a class="anchor-link" href="#create-using-pynamodb-api"> </a></h3><div class="highlight"><pre><span></span><span class="n">Logger</span><span class="o">.</span><span class="n">create_table</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="class-meta-definition">class meta definition<a class="anchor-link" href="#class-meta-definition"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pynamoLogger.logger</span> <span class="kn">import</span> <span class="n">PynamoLogger</span>
<span class="k">class</span> <span class="nc">Logger</span><span class="p">(</span><span class="n">PynamoLogger</span><span class="p">):</span>
  <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
    <span class="n">table_name</span> <span class="o">=</span> <span class="s1">&#39;member-database-log-dev-manual&#39;</span> <span class="c1"># put your table name</span>
    <span class="n">region</span> <span class="o">=</span> <span class="s1">&#39;ap-southeast-1&#39;</span> <span class="c1">#put your region name</span>
    <span class="n">billing_mode</span> <span class="o">=</span> <span class="s1">&#39;PAY_PER_REQUEST&#39;</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">appName</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;this is crazy&quot;</span><span class="p">,</span> <span class="n">responseObject</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;response&#39;</span><span class="p">:</span> <span class="s1">&#39;null response&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;logId&#39;: 1603075789.054751,
 &#39;saveResult&#39;: {&#39;ConsumedCapacity&#39;: {&#39;CapacityUnits&#39;: 1.0,
   &#39;TableName&#39;: &#39;member-database-log-dev-manual&#39;}}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Logger</span><span class="o">.</span><span class="n">checkLog</span><span class="p">(</span><span class="n">appName</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">logId</span> <span class="o">=</span> <span class="s1">&#39;1603074235.103042&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;appName&#39;: None,
  &#39;timestamp&#39;: 1603074235.103042,
  &#39;logMessage&#39;: &#39;this is crazy&#39;,
  &#39;requestObject&#39;: {&#39;noValue&#39;: &#39;noValue&#39;},
  &#39;responseObject&#39;: {&#39;response&#39;: &#39;null response&#39;}}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

